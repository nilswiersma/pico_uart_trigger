<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>pico_fi_control: pico_trigger_uart.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">pico_fi_control
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">pico_trigger_uart.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;pico/bootrom.h&quot;</code><br />
<code>#include &quot;pico/flash.h&quot;</code><br />
<code>#include &quot;pico/multicore.h&quot;</code><br />
<code>#include &quot;pico/stdlib.h&quot;</code><br />
<code>#include &quot;pico/time.h&quot;</code><br />
<code>#include &quot;pico/util/queue.h&quot;</code><br />
<code>#include &quot;hardware/clocks.h&quot;</code><br />
<code>#include &quot;hardware/dma.h&quot;</code><br />
<code>#include &quot;hardware/irq.h&quot;</code><br />
<code>#include &quot;hardware/pio.h&quot;</code><br />
<code>#include &quot;hardware/uart.h&quot;</code><br />
<code>#include &quot;hardware/watchdog.h&quot;</code><br />
<code>#include &quot;<a class="el" href="core1_8h_source.html">core1.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="display_8h_source.html">display.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="flash_8h_source.html">flash.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="globals_8h_source.html">globals.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pins_8h_source.html">pins.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="settings_8h_source.html">settings.h</a>&quot;</code><br />
<code>#include &quot;trigger_basic.pio.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for pico_trigger_uart.c:</div>
<div class="dyncontent">
<div class="center"><img src="pico__trigger__uart_8c__incl.png" border="0" usemap="#apico__trigger__uart_8c" alt=""/></div>
<map name="apico__trigger__uart_8c" id="apico__trigger__uart_8c">
<area shape="rect" title=" " alt="" coords="805,5,947,32"/>
<area shape="rect" title=" " alt="" coords="5,80,72,107"/>
<area shape="rect" title=" " alt="" coords="97,80,167,107"/>
<area shape="rect" title=" " alt="" coords="192,80,312,107"/>
<area shape="rect" title=" " alt="" coords="337,80,434,107"/>
<area shape="rect" title=" " alt="" coords="458,80,585,107"/>
<area shape="rect" title=" " alt="" coords="663,229,764,256"/>
<area shape="rect" title=" " alt="" coords="1122,80,1217,107"/>
<area shape="rect" title=" " alt="" coords="975,155,1105,181"/>
<area shape="rect" title=" " alt="" coords="1241,80,1381,107"/>
<area shape="rect" title=" " alt="" coords="1405,80,1533,107"/>
<area shape="rect" title=" " alt="" coords="1558,80,1674,107"/>
<area shape="rect" title=" " alt="" coords="1130,155,1249,181"/>
<area shape="rect" title=" " alt="" coords="1699,80,1824,107"/>
<area shape="rect" title=" " alt="" coords="1848,80,2011,107"/>
<area shape="rect" href="core1_8h.html" title=" " alt="" coords="438,155,509,181"/>
<area shape="rect" href="display_8h.html" title=" " alt="" coords="533,155,611,181"/>
<area shape="rect" href="flash_8h.html" title=" " alt="" coords="636,155,703,181"/>
<area shape="rect" href="globals_8h.html" title=" " alt="" coords="965,80,1046,107"/>
<area shape="rect" href="settings_8h.html" title=" " alt="" coords="863,155,950,181"/>
<area shape="rect" href="pins_8h.html" title=" " alt="" coords="727,155,788,181"/>
<area shape="rect" title=" " alt="" coords="2035,80,2178,107"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a37e8935c9ae52f815206fb61a21e2dcb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pico__trigger__uart_8c.html#a37e8935c9ae52f815206fb61a21e2dcb">queue_dump</a> (uint len)</td></tr>
<tr class="memdesc:a37e8935c9ae52f815206fb61a21e2dcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send <code>len</code> bytes from the <code>packet_queue</code> over USB serial.  <a href="pico__trigger__uart_8c.html#a37e8935c9ae52f815206fb61a21e2dcb">More...</a><br /></td></tr>
<tr class="separator:a37e8935c9ae52f815206fb61a21e2dcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1cb94d47a9ca91c4d1c5f999dd423f1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pico__trigger__uart_8c.html#ab1cb94d47a9ca91c4d1c5f999dd423f1">cmd_dump</a> (void)</td></tr>
<tr class="memdesc:ab1cb94d47a9ca91c4d1c5f999dd423f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Command handler for <code>d</code>, which sends stored bytes over USB serial.  <a href="pico__trigger__uart_8c.html#ab1cb94d47a9ca91c4d1c5f999dd423f1">More...</a><br /></td></tr>
<tr class="separator:ab1cb94d47a9ca91c4d1c5f999dd423f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af23b05e2c9b08fe5cb38f211c235b1d3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pico__trigger__uart_8c.html#af23b05e2c9b08fe5cb38f211c235b1d3">cmd_stream_toggle</a> (void)</td></tr>
<tr class="memdesc:af23b05e2c9b08fe5cb38f211c235b1d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Command handler to toggle sending bytes over USB serial as they are received.  <a href="pico__trigger__uart_8c.html#af23b05e2c9b08fe5cb38f211c235b1d3">More...</a><br /></td></tr>
<tr class="separator:af23b05e2c9b08fe5cb38f211c235b1d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2f5e3bf611ed0237ee86cc7b8e5573b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pico__trigger__uart_8c.html#ac2f5e3bf611ed0237ee86cc7b8e5573b">cmd_set_baud</a> (void)</td></tr>
<tr class="memdesc:ac2f5e3bf611ed0237ee86cc7b8e5573b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Command handler to set the baudrate for the UART that is being sniffed.  <a href="pico__trigger__uart_8c.html#ac2f5e3bf611ed0237ee86cc7b8e5573b">More...</a><br /></td></tr>
<tr class="separator:ac2f5e3bf611ed0237ee86cc7b8e5573b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a733c870df1e690dfebb18107c58d88c8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pico__trigger__uart_8c.html#a733c870df1e690dfebb18107c58d88c8">cmd_set_pat</a> (void)</td></tr>
<tr class="memdesc:a733c870df1e690dfebb18107c58d88c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Command handler for configuring the UART pattern to trigger on.  <a href="pico__trigger__uart_8c.html#a733c870df1e690dfebb18107c58d88c8">More...</a><br /></td></tr>
<tr class="separator:a733c870df1e690dfebb18107c58d88c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82a27ca3408f76dee4c68eefb81b2015"><td class="memItemLeft" align="right" valign="top">void __time_critical_func()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pico__trigger__uart_8c.html#a82a27ca3408f76dee4c68eefb81b2015">pio_interrupt_handler</a> ()</td></tr>
<tr class="memdesc:a82a27ca3408f76dee4c68eefb81b2015"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handler for when the PIO SM finishes.  <a href="pico__trigger__uart_8c.html#a82a27ca3408f76dee4c68eefb81b2015">More...</a><br /></td></tr>
<tr class="separator:a82a27ca3408f76dee4c68eefb81b2015"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0737d3bb595885c312c2ab3a80e1d885"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pico__trigger__uart_8c.html#a0737d3bb595885c312c2ab3a80e1d885">cmd_glitch_configure_arm_and_wait</a> (void)</td></tr>
<tr class="memdesc:a0737d3bb595885c312c2ab3a80e1d885"><td class="mdescLeft">&#160;</td><td class="mdescRight">Command handler for setting up the amount of wait and glitch cycles.  <a href="pico__trigger__uart_8c.html#a0737d3bb595885c312c2ab3a80e1d885">More...</a><br /></td></tr>
<tr class="separator:a0737d3bb595885c312c2ab3a80e1d885"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a333d7b2f2b4af6b2c46097ae12eb6d55"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pico__trigger__uart_8c.html#a333d7b2f2b4af6b2c46097ae12eb6d55">cmd_get_process</a> ()</td></tr>
<tr class="memdesc:a333d7b2f2b4af6b2c46097ae12eb6d55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read and process a single character command.  <a href="pico__trigger__uart_8c.html#a333d7b2f2b4af6b2c46097ae12eb6d55">More...</a><br /></td></tr>
<tr class="separator:a333d7b2f2b4af6b2c46097ae12eb6d55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a840291bc02cba5474a4cb46a9b9566fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pico__trigger__uart_8c.html#a840291bc02cba5474a4cb46a9b9566fe">main</a> (void)</td></tr>
<tr class="memdesc:a840291bc02cba5474a4cb46a9b9566fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up everything and enter command handler loop.  <a href="pico__trigger__uart_8c.html#a840291bc02cba5474a4cb46a9b9566fe">More...</a><br /></td></tr>
<tr class="separator:a840291bc02cba5474a4cb46a9b9566fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ac79a43604cef3e167780e935276174d0"><td class="memItemLeft" align="right" valign="top">PIO&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pico__trigger__uart_8c.html#ac79a43604cef3e167780e935276174d0">pio</a></td></tr>
<tr class="separator:ac79a43604cef3e167780e935276174d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b4b8196154418c89b2e42081572a370"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pico__trigger__uart_8c.html#a9b4b8196154418c89b2e42081572a370">pio_sm</a></td></tr>
<tr class="separator:a9b4b8196154418c89b2e42081572a370"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a819941891ee4efc6874b5b90fad7202f"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pico__trigger__uart_8c.html#a819941891ee4efc6874b5b90fad7202f">pio_offset</a></td></tr>
<tr class="separator:a819941891ee4efc6874b5b90fad7202f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab1cb94d47a9ca91c4d1c5f999dd423f1" name="ab1cb94d47a9ca91c4d1c5f999dd423f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1cb94d47a9ca91c4d1c5f999dd423f1">&#9670;&nbsp;</a></span>cmd_dump()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cmd_dump </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Command handler for <code>d</code>, which sends stored bytes over USB serial. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pico__trigger__uart_8c_ab1cb94d47a9ca91c4d1c5f999dd423f1_cgraph.png" border="0" usemap="#apico__trigger__uart_8c_ab1cb94d47a9ca91c4d1c5f999dd423f1_cgraph" alt=""/></div>
<map name="apico__trigger__uart_8c_ab1cb94d47a9ca91c4d1c5f999dd423f1_cgraph" id="apico__trigger__uart_8c_ab1cb94d47a9ca91c4d1c5f999dd423f1_cgraph">
<area shape="rect" title="Command handler for d, which sends stored bytes over USB serial." alt="" coords="5,5,100,32"/>
<area shape="rect" href="pico__trigger__uart_8c.html#a37e8935c9ae52f815206fb61a21e2dcb" title="Send len bytes from the packet_queue over USB serial." alt="" coords="148,5,255,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pico__trigger__uart_8c_ab1cb94d47a9ca91c4d1c5f999dd423f1_icgraph.png" border="0" usemap="#apico__trigger__uart_8c_ab1cb94d47a9ca91c4d1c5f999dd423f1_icgraph" alt=""/></div>
<map name="apico__trigger__uart_8c_ab1cb94d47a9ca91c4d1c5f999dd423f1_icgraph" id="apico__trigger__uart_8c_ab1cb94d47a9ca91c4d1c5f999dd423f1_icgraph">
<area shape="rect" title="Command handler for d, which sends stored bytes over USB serial." alt="" coords="291,5,385,32"/>
<area shape="rect" href="pico__trigger__uart_8c.html#a333d7b2f2b4af6b2c46097ae12eb6d55" title="Read and process a single character command." alt="" coords="108,5,243,32"/>
<area shape="rect" href="pico__trigger__uart_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="Set up everything and enter command handler loop." alt="" coords="5,5,60,32"/>
</map>
</div>

</div>
</div>
<a id="a333d7b2f2b4af6b2c46097ae12eb6d55" name="a333d7b2f2b4af6b2c46097ae12eb6d55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a333d7b2f2b4af6b2c46097ae12eb6d55">&#9670;&nbsp;</a></span>cmd_get_process()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cmd_get_process </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read and process a single character command. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pico__trigger__uart_8c_a333d7b2f2b4af6b2c46097ae12eb6d55_cgraph.png" border="0" usemap="#apico__trigger__uart_8c_a333d7b2f2b4af6b2c46097ae12eb6d55_cgraph" alt=""/></div>
<map name="apico__trigger__uart_8c_a333d7b2f2b4af6b2c46097ae12eb6d55_cgraph" id="apico__trigger__uart_8c_a333d7b2f2b4af6b2c46097ae12eb6d55_cgraph">
<area shape="rect" title="Read and process a single character command." alt="" coords="5,224,140,251"/>
<area shape="rect" href="pico__trigger__uart_8c.html#ab1cb94d47a9ca91c4d1c5f999dd423f1" title="Command handler for d, which sends stored bytes over USB serial." alt="" coords="221,5,316,32"/>
<area shape="rect" href="pico__trigger__uart_8c.html#a0737d3bb595885c312c2ab3a80e1d885" title="Command handler for setting up the amount of wait and glitch cycles." alt="" coords="188,57,349,98"/>
<area shape="rect" href="pico__trigger__uart_8c.html#ac2f5e3bf611ed0237ee86cc7b8e5573b" title="Command handler to set the baudrate for the UART that is being sniffed." alt="" coords="211,123,327,149"/>
<area shape="rect" href="pico__trigger__uart_8c.html#a733c870df1e690dfebb18107c58d88c8" title="Command handler for configuring the UART pattern to trigger on." alt="" coords="216,173,321,200"/>
<area shape="rect" href="pico__trigger__uart_8c.html#af23b05e2c9b08fe5cb38f211c235b1d3" title="Command handler to toggle sending bytes over USB serial as they are received." alt="" coords="193,224,344,251"/>
<area shape="rect" href="flash_8c.html#ae7ed36fda166a9e95a0fa8a7ee9ac66b" title=" " alt="" coords="194,275,343,317"/>
<area shape="rect" href="display_8c.html#a86e8918c827394abbaed9d0dcd31e5bb" title=" " alt="" coords="203,341,334,368"/>
<area shape="rect" href="display_8c.html#a04254731d52e6d160da3b727d9ea6b6a" title=" " alt="" coords="213,392,324,419"/>
<area shape="rect" href="display_8c.html#a03da7a935d9ac9d4da885c499d4cecb5" title=" " alt="" coords="223,443,315,469"/>
<area shape="rect" href="pico__trigger__uart_8c.html#a37e8935c9ae52f815206fb61a21e2dcb" title="Send len bytes from the packet_queue over USB serial." alt="" coords="397,5,504,32"/>
<area shape="rect" href="display_8c.html#abcce0d9a3c5778680b55036895826102" title=" " alt="" coords="409,392,492,419"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pico__trigger__uart_8c_a333d7b2f2b4af6b2c46097ae12eb6d55_icgraph.png" border="0" usemap="#apico__trigger__uart_8c_a333d7b2f2b4af6b2c46097ae12eb6d55_icgraph" alt=""/></div>
<map name="apico__trigger__uart_8c_a333d7b2f2b4af6b2c46097ae12eb6d55_icgraph" id="apico__trigger__uart_8c_a333d7b2f2b4af6b2c46097ae12eb6d55_icgraph">
<area shape="rect" title="Read and process a single character command." alt="" coords="108,5,243,32"/>
<area shape="rect" href="pico__trigger__uart_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="Set up everything and enter command handler loop." alt="" coords="5,5,60,32"/>
</map>
</div>

</div>
</div>
<a id="a0737d3bb595885c312c2ab3a80e1d885" name="a0737d3bb595885c312c2ab3a80e1d885"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0737d3bb595885c312c2ab3a80e1d885">&#9670;&nbsp;</a></span>cmd_glitch_configure_arm_and_wait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cmd_glitch_configure_arm_and_wait </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Command handler for setting up the amount of wait and glitch cycles. </p>
<p >Expects two numbers terminated by a null-byte, CTRL-D, \r or \n (or CTRL-C to cancel) each which will be used as the amount of clock cycles for the glitch delay and glitch duration. It is not translated to seconds, so check the configured clock speed (250MHz at time of writing).</p>
<p >Once the two numbers are received, the PIO SM used for generating this signal is started, which then in "armed" state, which means it is waiting for an edge on PIO_TRIGGER_IN_PIN (see <a class="el" href="pins_8h.html">pins.h</a>). </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pico__trigger__uart_8c_a0737d3bb595885c312c2ab3a80e1d885_icgraph.png" border="0" usemap="#apico__trigger__uart_8c_a0737d3bb595885c312c2ab3a80e1d885_icgraph" alt=""/></div>
<map name="apico__trigger__uart_8c_a0737d3bb595885c312c2ab3a80e1d885_icgraph" id="apico__trigger__uart_8c_a0737d3bb595885c312c2ab3a80e1d885_icgraph">
<area shape="rect" title="Command handler for setting up the amount of wait and glitch cycles." alt="" coords="291,5,452,47"/>
<area shape="rect" href="pico__trigger__uart_8c.html#a333d7b2f2b4af6b2c46097ae12eb6d55" title="Read and process a single character command." alt="" coords="108,13,243,39"/>
<area shape="rect" href="pico__trigger__uart_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="Set up everything and enter command handler loop." alt="" coords="5,13,60,39"/>
</map>
</div>

</div>
</div>
<a id="ac2f5e3bf611ed0237ee86cc7b8e5573b" name="ac2f5e3bf611ed0237ee86cc7b8e5573b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2f5e3bf611ed0237ee86cc7b8e5573b">&#9670;&nbsp;</a></span>cmd_set_baud()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cmd_set_baud </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Command handler to set the baudrate for the UART that is being sniffed. </p>
<p >This expects a number to be used as baudrate terminated by a null-byte, CTRL-D, \r or \n. CTRL-C cancels the input. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pico__trigger__uart_8c_ac2f5e3bf611ed0237ee86cc7b8e5573b_icgraph.png" border="0" usemap="#apico__trigger__uart_8c_ac2f5e3bf611ed0237ee86cc7b8e5573b_icgraph" alt=""/></div>
<map name="apico__trigger__uart_8c_ac2f5e3bf611ed0237ee86cc7b8e5573b_icgraph" id="apico__trigger__uart_8c_ac2f5e3bf611ed0237ee86cc7b8e5573b_icgraph">
<area shape="rect" title="Command handler to set the baudrate for the UART that is being sniffed." alt="" coords="291,5,407,32"/>
<area shape="rect" href="pico__trigger__uart_8c.html#a333d7b2f2b4af6b2c46097ae12eb6d55" title="Read and process a single character command." alt="" coords="108,5,243,32"/>
<area shape="rect" href="pico__trigger__uart_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="Set up everything and enter command handler loop." alt="" coords="5,5,60,32"/>
</map>
</div>

</div>
</div>
<a id="a733c870df1e690dfebb18107c58d88c8" name="a733c870df1e690dfebb18107c58d88c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a733c870df1e690dfebb18107c58d88c8">&#9670;&nbsp;</a></span>cmd_set_pat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cmd_set_pat </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Command handler for configuring the UART pattern to trigger on. </p>
<p >This expects a number as length, terminated by a null-byte, CTRL-D, \r or \n (or CTRL-C to cancel), followed by that many (raw) bytes to be used as the pattern to trigger on. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pico__trigger__uart_8c_a733c870df1e690dfebb18107c58d88c8_icgraph.png" border="0" usemap="#apico__trigger__uart_8c_a733c870df1e690dfebb18107c58d88c8_icgraph" alt=""/></div>
<map name="apico__trigger__uart_8c_a733c870df1e690dfebb18107c58d88c8_icgraph" id="apico__trigger__uart_8c_a733c870df1e690dfebb18107c58d88c8_icgraph">
<area shape="rect" title="Command handler for configuring the UART pattern to trigger on." alt="" coords="291,5,396,32"/>
<area shape="rect" href="pico__trigger__uart_8c.html#a333d7b2f2b4af6b2c46097ae12eb6d55" title="Read and process a single character command." alt="" coords="108,5,243,32"/>
<area shape="rect" href="pico__trigger__uart_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="Set up everything and enter command handler loop." alt="" coords="5,5,60,32"/>
</map>
</div>

</div>
</div>
<a id="af23b05e2c9b08fe5cb38f211c235b1d3" name="af23b05e2c9b08fe5cb38f211c235b1d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af23b05e2c9b08fe5cb38f211c235b1d3">&#9670;&nbsp;</a></span>cmd_stream_toggle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cmd_stream_toggle </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Command handler to toggle sending bytes over USB serial as they are received. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pico__trigger__uart_8c_af23b05e2c9b08fe5cb38f211c235b1d3_icgraph.png" border="0" usemap="#apico__trigger__uart_8c_af23b05e2c9b08fe5cb38f211c235b1d3_icgraph" alt=""/></div>
<map name="apico__trigger__uart_8c_af23b05e2c9b08fe5cb38f211c235b1d3_icgraph" id="apico__trigger__uart_8c_af23b05e2c9b08fe5cb38f211c235b1d3_icgraph">
<area shape="rect" title="Command handler to toggle sending bytes over USB serial as they are received." alt="" coords="291,5,441,32"/>
<area shape="rect" href="pico__trigger__uart_8c.html#a333d7b2f2b4af6b2c46097ae12eb6d55" title="Read and process a single character command." alt="" coords="108,5,243,32"/>
<area shape="rect" href="pico__trigger__uart_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="Set up everything and enter command handler loop." alt="" coords="5,5,60,32"/>
</map>
</div>

</div>
</div>
<a id="a840291bc02cba5474a4cb46a9b9566fe" name="a840291bc02cba5474a4cb46a9b9566fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a840291bc02cba5474a4cb46a9b9566fe">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set up everything and enter command handler loop. </p>
<dl class="section return"><dt>Returns</dt><dd>int </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pico__trigger__uart_8c_a840291bc02cba5474a4cb46a9b9566fe_cgraph.png" border="0" usemap="#apico__trigger__uart_8c_a840291bc02cba5474a4cb46a9b9566fe_cgraph" alt=""/></div>
<map name="apico__trigger__uart_8c_a840291bc02cba5474a4cb46a9b9566fe_cgraph" id="apico__trigger__uart_8c_a840291bc02cba5474a4cb46a9b9566fe_cgraph">
<area shape="rect" title="Set up everything and enter command handler loop." alt="" coords="5,280,60,307"/>
<area shape="rect" href="pico__trigger__uart_8c.html#a333d7b2f2b4af6b2c46097ae12eb6d55" title="Read and process a single character command." alt="" coords="121,230,256,256"/>
<area shape="rect" href="pico__trigger__uart_8c.html#a37e8935c9ae52f815206fb61a21e2dcb" title="Send len bytes from the packet_queue over USB serial." alt="" coords="527,11,633,38"/>
<area shape="rect" href="core1_8c.html#a92a92e6ef3b1ed1fb3401d263ddcdb0e" title=" " alt="" coords="139,280,238,307"/>
<area shape="rect" href="pico__trigger__uart_8c.html#a82a27ca3408f76dee4c68eefb81b2015" title="Handler for when the PIO SM finishes." alt="" coords="108,331,269,358"/>
<area shape="rect" href="settings_8c.html#a5f9a5a2e826aec11c77548f2a541fb9e" title=" " alt="" coords="137,382,240,408"/>
<area shape="rect" href="pico__trigger__uart_8c.html#ab1cb94d47a9ca91c4d1c5f999dd423f1" title="Command handler for d, which sends stored bytes over USB serial." alt="" coords="351,36,445,63"/>
<area shape="rect" href="pico__trigger__uart_8c.html#a0737d3bb595885c312c2ab3a80e1d885" title="Command handler for setting up the amount of wait and glitch cycles." alt="" coords="317,88,479,129"/>
<area shape="rect" href="pico__trigger__uart_8c.html#ac2f5e3bf611ed0237ee86cc7b8e5573b" title="Command handler to set the baudrate for the UART that is being sniffed." alt="" coords="340,154,456,180"/>
<area shape="rect" href="pico__trigger__uart_8c.html#a733c870df1e690dfebb18107c58d88c8" title="Command handler for configuring the UART pattern to trigger on." alt="" coords="345,204,451,231"/>
<area shape="rect" href="pico__trigger__uart_8c.html#af23b05e2c9b08fe5cb38f211c235b1d3" title="Command handler to toggle sending bytes over USB serial as they are received." alt="" coords="323,255,473,282"/>
<area shape="rect" href="flash_8c.html#ae7ed36fda166a9e95a0fa8a7ee9ac66b" title=" " alt="" coords="323,306,473,348"/>
<area shape="rect" href="display_8c.html#a86e8918c827394abbaed9d0dcd31e5bb" title=" " alt="" coords="333,372,463,399"/>
<area shape="rect" href="display_8c.html#a04254731d52e6d160da3b727d9ea6b6a" title=" " alt="" coords="343,423,453,450"/>
<area shape="rect" href="display_8c.html#a03da7a935d9ac9d4da885c499d4cecb5" title=" " alt="" coords="352,474,444,500"/>
<area shape="rect" href="display_8c.html#abcce0d9a3c5778680b55036895826102" title=" " alt="" coords="539,423,621,450"/>
</map>
</div>

</div>
</div>
<a id="a82a27ca3408f76dee4c68eefb81b2015" name="a82a27ca3408f76dee4c68eefb81b2015"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82a27ca3408f76dee4c68eefb81b2015">&#9670;&nbsp;</a></span>pio_interrupt_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __time_critical_func() pio_interrupt_handler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handler for when the PIO SM finishes. </p>
<p >This RAM function is used as handler for when the PIO SM that is used to generate a trigger pulse to an external device (e.g. a ChipSHOUTER) finishes. It sends a single 'y' char over the USB serial to indicate it is done, and clears the interrupt so that the PIO SM can continue with the next attempt. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pico__trigger__uart_8c_a82a27ca3408f76dee4c68eefb81b2015_icgraph.png" border="0" usemap="#apico__trigger__uart_8c_a82a27ca3408f76dee4c68eefb81b2015_icgraph" alt=""/></div>
<map name="apico__trigger__uart_8c_a82a27ca3408f76dee4c68eefb81b2015_icgraph" id="apico__trigger__uart_8c_a82a27ca3408f76dee4c68eefb81b2015_icgraph">
<area shape="rect" title="Handler for when the PIO SM finishes." alt="" coords="108,5,269,32"/>
<area shape="rect" href="pico__trigger__uart_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="Set up everything and enter command handler loop." alt="" coords="5,5,60,32"/>
</map>
</div>

</div>
</div>
<a id="a37e8935c9ae52f815206fb61a21e2dcb" name="a37e8935c9ae52f815206fb61a21e2dcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37e8935c9ae52f815206fb61a21e2dcb">&#9670;&nbsp;</a></span>queue_dump()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void queue_dump </td>
          <td>(</td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>len</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send <code>len</code> bytes from the <code>packet_queue</code> over USB serial. </p>
<p ><code>packet_queue</code> gets filled by core1 (see <a class="el" href="core1_8c.html">core1.c</a>). Use this function to empty <code>packet_queue</code> to the host PC.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">len</td><td></td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pico__trigger__uart_8c_a37e8935c9ae52f815206fb61a21e2dcb_icgraph.png" border="0" usemap="#apico__trigger__uart_8c_a37e8935c9ae52f815206fb61a21e2dcb_icgraph" alt=""/></div>
<map name="apico__trigger__uart_8c_a37e8935c9ae52f815206fb61a21e2dcb_icgraph" id="apico__trigger__uart_8c_a37e8935c9ae52f815206fb61a21e2dcb_icgraph">
<area shape="rect" title="Send len bytes from the packet_queue over USB serial." alt="" coords="433,31,540,57"/>
<area shape="rect" href="pico__trigger__uart_8c.html#ab1cb94d47a9ca91c4d1c5f999dd423f1" title="Command handler for d, which sends stored bytes over USB serial." alt="" coords="291,5,385,32"/>
<area shape="rect" href="pico__trigger__uart_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="Set up everything and enter command handler loop." alt="" coords="5,31,60,57"/>
<area shape="rect" href="pico__trigger__uart_8c.html#a333d7b2f2b4af6b2c46097ae12eb6d55" title="Read and process a single character command." alt="" coords="108,5,243,32"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ac79a43604cef3e167780e935276174d0" name="ac79a43604cef3e167780e935276174d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac79a43604cef3e167780e935276174d0">&#9670;&nbsp;</a></span>pio</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIO pio</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a819941891ee4efc6874b5b90fad7202f" name="a819941891ee4efc6874b5b90fad7202f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a819941891ee4efc6874b5b90fad7202f">&#9670;&nbsp;</a></span>pio_offset</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint pio_offset</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9b4b8196154418c89b2e42081572a370" name="a9b4b8196154418c89b2e42081572a370"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b4b8196154418c89b2e42081572a370">&#9670;&nbsp;</a></span>pio_sm</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint pio_sm</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
